<div class="vcms-toolbar-placeholder" ng-hide="isTextElement() || isImgElement()">
  Element auswählen
</div>

<div class="vcms-toolbar" ng-if="isTextElement() || vcms.htmlMode || vcms.isContainer()">
  <nav>
    <!--html mode-->
    <ul class="vcms-toolbar-group" ng-if="vcms.htmlMode">
      <li>
        <a data-tooltip="Quellcode" data-tooltip-position="bottom" data-tooltip-delay
           ng-mousedown="vcms.toggleHtml($event)">
          <i class="ec-icon code"></i>
        </a>
      </li>
    </ul>
    <ul ng-repeat="toolbar in vcms.config.toolbar" class="vcms-toolbar-group"
        ng-if="!vcms.htmlMode">

      <li ng-repeat="menu in toolbar" ng-switch="menu">

        <!--Format-->
        <ul ng-switch-when="tags" class="vcms-tags dropdown">
          <li tabindex="0">
            <a>{{getSynonym()}}</a>
            <ul class="dropdown-options center">
              <li ng-class="{'active' : vcms.tag === tag}" ng-repeat="tag in vcms.config.tags">
                <a ng-mousedown="vcms.execCommand(tag, $event)">{{getSynonym(tag)}}</a>
              </li>
            </ul>
          </li>
        </ul>

        <!--Italic-->
        <div ng-class="{'active' : vcms.tag === 'em'}"
             ng-switch-when="italic">
          <a ng-mousedown="vcms.execCommand('italic', $event)">
            <i class="ec-icon italic"></i>
          </a>
        </div>

        <!--Bold-->
        <div ng-class="{'active' : vcms.tag === 'strong'}"
             ng-switch-when="bold">
          <a ng-mousedown="vcms.execCommand('bold', $event)">
            <i class="ec-icon bold"></i>
          </a>
        </div>

        <!--link-->
        <div ng-class="{'active' : vcms.tag === 'a'}"
             ng-switch-when="link">
          <a ng-mousedown="vcms.execCommand('createLink', $event)">
            <i class="ec-icon link"></i>
          </a>
        </div>

        <!--align-->
        <ul ng-switch-when="align" class="vcms-align dropdown">
          <li tabindex="0">
            <a>
              <i class="ec-icon"
                 ng-class="{'align-left': hasAttr('text-align', 'left') || !hasAttr('text-align'), 'align-center': hasAttr('text-align', 'center'), 'align-right': hasAttr('text-align', 'right')}"></i>
            </a>
            <ul class="dropdown-options center">
              <li ng-class="{'active' : hasAttr('text-align', 'left') || !hasAttr('text-align')}">
                <a ng-mousedown="vcms.execCommand('justifyLeft', $event)">
                  <i class="ec-icon align-left"></i>
                </a>
              </li>
              <li ng-class="{'active' : hasAttr('text-align', 'center')}">
                <a ng-mousedown="vcms.execCommand('justifyCenter', $event)">
                  <i class="ec-icon align-center"></i>
                </a>
              </li>
              <li ng-class="{'active' : hasAttr('text-align', 'right')}">
                <a ng-mousedown="vcms.execCommand('justifyRight', $event)">
                  <i class="ec-icon align-right"></i>
                </a>
              </li>
            </ul>
          </li>
        </ul>

        <!--font-size-->
        <ul ng-switch-when="size" class="vcms-font-size dropdown">
          <li tabindex="0">
            <a><i class="ec-icon font-size"></i></a>
            <ul class="dropdown-options center">
              <li ng-class="{'active' : hasClass('text-big')}">
                <a ng-mousedown="vcms.toggleClass('text-big', ['text-small'])">
                  groß
                </a>
              </li>
              <li ng-class="{'active' : !hasClass('text-big') && vcms.tag !== 'small'}">
                <a ng-mousedown="vcms.execCommand('p', $event); vcms.toggleClass(null, ['text-big', 'text-small']);">
                  normal
                </a>
              </li>
              <li ng-class="{'active' : vcms.tag === 'small'}">
                <a ng-mousedown="vcms.toggleClass('text-small', ['text-big']);">
                  klein
                </a>
              </li>
            </ul>
          </li>
        </ul>

        <!--list-->
        <ul ng-switch-when="list" class="vcms-list-style dropdown">
          <li tabindex="0">
            <a><i class="ec-icon list-bullets"></i></a>
            <ul class="dropdown-options center">
              <li ng-class="{'active' : hasChild('ul')}">
                <a ng-mousedown="vcms.execCommand('insertUnorderedList', $event)">
                  <i class="ec-icon list-bullets"></i>
                </a>
              </li>
              <li ng-class="{'active' : hasChild('ol')}">
                <a ng-mousedown="vcms.execCommand('insertOrderedList', $event)">
                  <i class="ec-icon list-number"></i>
                </a>
              </li>
            </ul>
          </li>
        </ul>

        <!--blockquote-->
        <div ng-class="{'active' : vcms.tag === 'blockquote'}"
             ng-switch-when="blockquote">
          <a ng-mousedown="vcms.execCommand('blockquote', $event)" data-tooltip="Zitat"
             data-tooltip-position="bottom"
             data-tooltip-delay>
            <i class="ec-icon quote-closing"></i>
          </a>
        </div>

        <!--image-->
        <div ng-switch-when="image">
          <a ng-mousedown="vcms.execCommand('insertImage', $event)" data-tooltip="Bild"
             data-tooltip-position="bottom"
             data-tooltip-delay>
            <i class="ec-icon img"></i>
          </a>
        </div>

        <!--icons-->
        <div ng-switch-when="icon">
          <a data-tooltip="Icon" data-tooltip-position="bottom" data-tooltip-delay>
            <i class="ec-icon smiley"></i>
          </a>
        </div>

        <!--modules-->
        <ul ng-switch-when="custom" class="vcms-modules dropdown">
          <li tabindex="0">
            <a data-tooltip="Weitere Elemente" data-tooltip-position="top" data-tooltip-delay>
              <i class="ec-icon add"></i>
            </a>
            <ul class="dropdown-options center">
              <li ng-class="{'active' : vcms.tag === tag}" ng-repeat="custom in vcms.config.custom">
                <a ng-mousedown="custom.command(vcms.currentElement, $event)">
                  <div ng-bind-html="custom.title | unsafe"></div>
                </a>
              </li>
            </ul>
          </li>
        </ul>

        <!--colorpicker-->
        <div ng-switch-when="colors"
             class="vcms-colorpicker">
          <a ng-style="{backgroundColor: hasAttr('color')}"
             ng-click="colorpickerActive =! colorpickerActive"
             ng-class="{'untouched' : !hasAttr('color', color)}" class="vcms-colorpicker-selected">
          </a>
          <div class="vcms-colorpicker-options" ng-class="{'active' : colorpickerActive}">
            <div class="vcms-colorpicker-close" ng-click="colorpickerActive =! colorpickerActive">
              &times;
            </div>
            <ul class="vmcs-colorpicker-available">
              <li ng-class="{'active' : hasAttr('color', color)}"
                  ng-repeat="color in vcms.config.colors">
                <a ng-style="{backgroundColor: color}"
                   ng-mousedown="vcms.toggleAttribute({color: color})"></a>
              </li>
            </ul>
            <div class="vcms-colopicker-input">
              <label>
                <small>HEX</small>
                <input type="text" ng-model="customColor"
                       ng-change="vcms.toggleAttribute({color: customColor})"
                       placeholder="z.B.: #ff5500">
              </label>
            </div>
          </div>
        </div>

        <!--presets-->
        <div ng-switch-when="presets">
          <a data-tooltip="Style Presets" data-tooltip-position="bottom" data-tooltip-delay>
            <i class="ec-icon harry-potter"></i>
          </a>
        </div>

        <!--reset style-->
        <div ng-switch-when="reset">
          <a ng-mousedown="vcms.execCommand('removeFormat', $event)"
             data-tooltip="Formatierung löschen"
             data-tooltip-position="bottom"
             data-tooltip-delay>
            <i class="ec-icon format-clear"></i>
          </a>
        </div>

        <!--undo -->
        <div ng-switch-when="undo">
          <a ng-mousedown="vcms.execCommand('undo', $event)" data-tooltip="rückgängig machen"
             data-tooltip-position="bottom"
             data-tooltip-delay>
            <i class="ec-icon undo"></i>
          </a>
        </div>

        <!--redo-->
        <div ng-switch-when="redo">
          <a ng-mousedown="vcms.execCommand('redo', $event)" data-tooltip="wiederherstellen"
             data-tooltip-position="bottom"
             data-tooltip-delay>
            <i class="ec-icon redo"></i>
          </a>
        </div>

        <!--html mode-->
        <div ng-switch-when="html">
          <a data-tooltip="Quellcode" data-tooltip-position="bottom" data-tooltip-delay
             ng-mousedown="vcms.toggleHtml($event)">
            <i class="ec-icon code"></i>
          </a>
        </div>
      </li>
    </ul>
    <ul class="vcms-toolbar-group" ng-if="!vcms.htmlMode">
      <li ng-if="vcms.tag">
        <a ng-mousedown="vcms.addElement($event)">
          <i class="ec-icon add"></i>
        </a>
      </li>
      <li>
        <a ng-mousedown="vcms.deleteElement($event)">
          <i class="ec-icon trash"></i>
        </a>
      </li>
    </ul>
  </nav>
</div>

<div class="vcms-pop vcms-image" ng-if="isImgElement()">
  <ec-tabs class="ec-tabs-default">
    <ec-tab data-title="Source">
      <label>
        Externe Url
        <input type="text" ng-model="vcms.src">
      </label>
      <div class="vcms-image-preview">
        <img ng-src="{{vcms.src}}">
      </div>
      <label class="checkbox">
        <input type="checkbox" checked="checked">
        automatische Größe
      </label>
    </ec-tab>

    <ec-tab data-title="Style">
      <div data-row>
        <div data-col="6sm">
          <img ng-src="{{vcms.src}}" class="img-style-light">
        </div>
        <div data-col="6sm">
          <img ng-src="{{vcms.src}}" class="img-style-light">
        </div>
      </div>
    </ec-tab>
    <ec-tab data-title="Custom">
      Custom
    </ec-tab>
  </ec-tabs>

  <footer class="vcms-pop-footer">
    <nav>
      <ul>
        <li>
          <a class="btn super" ng-mousedown="vcms.saveImage($event);">Speichern</a>
        </li>
        <li>
          <a class="btn minor" ng-mousedown="vcms.resetImage($event);">
            <i class="ec-icon close"></i>
          </a>
        </li>
      </ul>
    </nav>
  </footer>
</div>
